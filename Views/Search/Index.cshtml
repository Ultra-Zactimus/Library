@{
  Layout = "_Layout";
}

@using System.Collections.Generic;
@using System.Linq;
@using Library.Models;
@model List<Book>;

<h2>Search for a Book</h2>
<br>
@using (Html.BeginForm())
{
  <label>Search for a Book by title:</label>
  @Html.TextBox("search")<br>  //This had to be a TextBox because the TextBox creates a variable that the controller will manipulate
  <button type="submit" class="btn btn-success" value="search">Submit</button>
}
<hr>
@if (@Model.Count == 0)
{
  <p>We do not have that book in the our Registry</p>
}
else
{
<h5>Books matching Search:</h5>
<ul>
  @foreach(var book in Model)
  {
    <li>@Html.ActionLink($"{book.Title}", "Details", "Books", new { id = book.BookId })</li>
  }
</ul>
}